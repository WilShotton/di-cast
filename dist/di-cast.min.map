{"version":3,"file":"di-cast.min.js","sources":["../src/di-cast.js"],"names":["root","factory","mapping","base","name","target","using","resolver","api","Builder","isSingleton","slice","call","arguments","forEach","source","Object","keys","key","is","value","type","prototype","toString","split","toLowerCase","indexOf","validateType","errorMsg","TypeError","InjectionError","template","context","stack","Error","this","message","concat","join","toUpperCase","info","replace","_","match","checkInterface","vo","item","instance","INTERFACE_MEMBER_MISSING","hasOwnProperty","length","arity","INTERFACE_METHOD_ARITY_MISMATCH","setProps","dep","injector","get","post","postConstruct","makeBuilder","args","apply","create","parseProps","list","I_POINT","makeConstructor","map","makeFactory","INVALID_FACTORY","makeLens","path","reduce","previous","current","shift","makeValue","DiCast","parent","MapOptions","toFactory","config","INCORRECT_METHOD_SIGNATURE","INVALID_TARGET","mappings","_injector","toLens","toType","toValue","MISSING_TARGET","resolving","constructor","INVALID_PARENT","INVALID_KEY_TYPE","MAPPING_EXISTS","has","properties","NO_MAPPING","push","CIRCULAR_DEPENDENCY","pop","acc","property","remove","n","MAPPING_HAS_DEPENDANTS","resolveFactory","resolveLens","resolveType","resolveValue","Array","define","amd","module","exports"],"mappings":"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"}