{"version":3,"file":"di-cast.min.js","sources":["../src/di-cast.js"],"names":["root","factory","mapping","base","name","target","using","resolver","api","Builder","isSingleton","defer","slice","call","arguments","forEach","source","Object","keys","key","is","value","type","prototype","toString","split","toLowerCase","indexOf","validateType","errorMsg","TypeError","InjectionError","template","context","stack","Error","this","message","concat","join","toUpperCase","info","replace","_","match","checkInterface","vo","item","instance","INTERFACE_MEMBER_MISSING","hasOwnProperty","length","arity","INTERFACE_METHOD_ARITY_MISMATCH","setProps","dep","injector","get","post","postConstruct","makeBuilder","args","apply","create","parseProps","list","I_POINT","makeConstructor","map","makeFactory","INVALID_FACTORY","makeLens","path","reduce","previous","current","shift","makeValue","DiCast","parent","MapOptions","toFactory","config","INCORRECT_METHOD_SIGNATURE","INVALID_TARGET","mappings","_injector","toLens","toType","toValue","MISSING_TARGET","resolving","constructor","INVALID_PARENT","INVALID_KEY_TYPE","MAPPING_EXISTS","has","properties","NO_MAPPING","push","CIRCULAR_DEPENDENCY","pop","acc","property","remove","n","MAPPING_HAS_DEPENDANTS","resolveFactory","resolveLens","resolveType","resolveValue","Array","define","amd","module","exports"],"mappings":"CAAC,SAAUA,GAEP,YAMA,SAASC,KAsDL,QAASC,KAEL,GAAIC,IAEAC,KAAM,OACNC,OAAQ,KACRC,SAEAC,SAAU,KACVC,OACAC,QAAS,KACTC,aAAa,EACbC,OAAO,EAYX,OATAC,GAAMC,KAAKC,WAAWC,QAAQ,SAASC,GAEnCC,OAAOC,KAAKF,GAAQD,QAAQ,SAASI,GACd,MAAfH,EAAOG,KACPhB,EAAKgB,GAAOH,EAAOG,QAKxBhB,EAGX,QAASiB,GAAGC,EAAOC,GAEf,MAIqC,KAJ9BL,OAAOM,UAAUC,SACnBX,KAAKQ,GACLI,MAAM,KAAK,GACXC,cACAC,QAAQL,EAAKI,eAGtB,QAASE,GAAaP,EAAOC,EAAMO,GAE/B,IAAKT,EAAGC,EAAOC,GACX,KAAM,IAAIQ,WAAUD,GAe5B,QAASE,GAAeC,EAAUC,GAE9B,GAAIC,IAAQ,GAAKC,QAASD,KAG1BE,MAAKF,MAAQF,EAASK,QAAQC,OAC1B,KACS,MAATJ,EAAgBA,EAAMT,MAAM,MAAMb,MAAM,GAAG2B,KAAK,MAAQ,IAG5DH,KAAKC,QAAU,GAAGC,OACdN,EAASK,QAAQG,cACjB,KACAR,EAASS,KAAKC,QAAQ,iBAAkB,SAASC,EAAGC,GAChD,MAAOX,GAAQW,MAU3B,QAASC,GAAeC,GAepB,MAbAA,GAAGtC,IAAIO,QAAQ,SAASgC,GAEpB,GAA8B,MAA1BD,EAAGE,SAASD,EAAK3C,MAEjB,KAAM,IAAI2B,GAAekB,EAA0BF,EAGvD,IAAIA,EAAKG,eAAe,UAAYJ,EAAGE,SAASD,EAAK3C,MAAM+C,SAAWJ,EAAKK,MAEvE,KAAM,IAAIrB,GAAesB,EAAiCN,KAI3DD,EAGX,QAASQ,GAASR,GAMd,MAJAA,GAAGxC,MAAMS,QAAQ,SAASwC,GACtBT,EAAGE,SAASO,GAAOT,EAAGU,SAASC,IAAIF,KAGhCT,EAGX,QAASY,GAAKZ,GAMV,MAJI1B,GAAG0B,EAAGE,SAASW,cAAe,aAC9Bb,EAAGE,SAASW,cAAcb,EAAGU,UAG1BV,EAGX,QAASc,GAAYvD,GAEjB,QAASI,GAAQoD,GACb,MAAOxD,GAAOyD,MAAM1B,KAAMyB,GAK9B,MAFApD,GAAQc,UAAYN,OAAO8C,OAAO1D,EAAOkB,WAElCd,EAGX,QAASuD,GAAW3D,GAEhB,GAAI4D,KAEJ,IAAI7C,EAAGf,EAAQ,UAEX,IAAK,GAAIc,KAAOd,GACRA,EAAOc,KAAS+C,IAChBD,EAAKA,EAAKd,QAAUhC,EAKhC,OAAO8C,GAKX,QAASE,GAAgBrB,GAWrB,MATKA,GAAGI,eAAe,aAAgBJ,EAAGpC,cAEtCoC,EAAGE,SAAW,GAAIF,GAAGrC,QAAQqC,EAAGxC,MAAM8D,IAAI,SAASjD,GAC/C,MAAO2B,GAAGU,SAASC,IAAItC,MAG3B0B,EAAeC,IAGZA,EAAGE,SAGd,QAASqB,GAAYvB,GAEjB,KAAKA,EAAGI,eAAe,aAAgBJ,EAAGpC,cAEtCoC,EAAGE,SAAWF,EAAGzC,OAAOyD,MAAM,KAAMhB,EAAGxC,MAAM8D,IAAI,SAASjD,GACtD,MAAO2B,GAAGU,SAASC,IAAItC,MAGR,MAAf2B,EAAGE,WACH,KAAM,IAAIjB,GAAeuC,GAAkBlE,KAAM0C,EAAG1C,MAI5D,OAAO0C,GAAGE,SAGd,QAASuB,GAASzB,GAEd,IAAKA,EAAGI,eAAe,YAAa,CAEhC,GAAIsB,GAAO1B,EAAGzC,OAAOoB,MAAM,IAE3BqB,GAAGE,SAAWwB,EAAKC,OAAO,SAASC,EAAUC,GAEzC,MAAOD,GAASC,IAEjB7B,EAAGU,SAASC,IAAIe,EAAKI,UAG5B,MAAO9B,GAAGE,SAGd,QAAS6B,GAAU/B,GASf,MAPKA,GAAGI,eAAe,cAEnBJ,EAAGE,SAAWF,EAAGzC,OAEjBqD,EAAKJ,EAAST,EAAeC,MAG1BA,EAAGE,SASd,QAAS8B,GAAOC,GAyBZ,QAASC,GAAW7D,GAchBiB,KAAK6C,UAAY,SAASC,GAatB,MAXAtD,GAAasD,EAAQ,SAAUC,GAC/BvD,EAAasD,EAAO7E,OAAQ,WAAY+E,GAExCC,EAASlE,GAAOjB,EAAQgF,GAEpB1B,SAAU8B,EAEVlF,KAAMe,EACNZ,SAAU8D,IAGPiB,GAWXlD,KAAKmD,OAAS,SAASL,GAanB,MAXAtD,GAAasD,EAAQ,SAAUC,GAC/BvD,EAAasD,EAAO7E,OAAQ,SAAU+E,GAEtCC,EAASlE,GAAOjB,EAAQgF,GAEpB1B,SAAU8B,EAEVlF,KAAMe,EACNZ,SAAUgE,IAGPe,GAcXlD,KAAKoD,OAAS,SAASN,GAcnB,MAZAtD,GAAasD,EAAQ,SAAUC,GAC/BvD,EAAasD,EAAO7E,OAAQ,WAAY+E,GAExCC,EAASlE,GAAOjB,EAAQgF,GAEpB1B,SAAU8B,EAEVlF,KAAMe,EACNZ,SAAU4D,EACV1D,QAASmD,EAAYsB,EAAO7E,UAGzBiF,GAYXlD,KAAKqD,QAAU,SAASP,GAIpB,GAFAtD,EAAasD,EAAQ,SAAUC,IAE1BD,EAAOhC,eAAe,UACvB,KAAM,IAAInB,GAAe2D,GAAiBvE,IAAKA,GAYnD,OATAkE,GAASlE,GAAOjB,EAAQgF,GAEpB1B,SAAU8B,EAEVlF,KAAMe,EACNZ,SAAUsE,EACVvE,MAAO0D,EAAWkB,EAAO7E,UAGtBiF,GAnIf,GAAIA,GAAYlD,KAEZuD,KAEAN,GACI7B,UACIpD,KAAM,WACNG,SAAUsE,EACVxE,OAAQiF,EACRhF,SACAE,QAIZ,IAAIuE,GAAUA,EAAOa,cAAgBxD,KAAKwD,YACtC,KAAM,IAAIzD,OAAM0D,EAgIpBzD,MAAKgC,IAAM,SAASjD,GAIhB,GAFAS,EAAaT,EAAK,SAAU2E,GAExBT,EAASnC,eAAe/B,GACxB,KAAM,IAAIY,GAAegE,GAAiB5E,IAAKA,GAGnD,OAAO,IAAI6D,GAAW7D,IAa1BiB,KAAK4D,IAAM,SAAS7E,GAIhB,MAFAS,GAAaT,EAAK,SAAU2E,GAEpBT,EAASnC,eAAe/B,IAAQ4D,GAAUA,EAAOiB,IAAI7E,KAAS,GAY1EiB,KAAKqB,IAAM,SAASvC,GAEhB,GAAI8B,GAAW,KAEXwB,EAAOtD,EAAKO,MAAM,KAClBN,EAAMqD,EAAK,GACXyB,EAAazB,EAAK5D,MAAM,EAE5B,KAAK0E,EAAUU,IAAI7E,GACf,KAAM,IAAIY,GAAemE,GAAa/E,IAAKA,GAG/C,IAA+B,KAA3BwE,EAAUhE,QAAQR,GAGlB,KADAwE,GAAUQ,KAAKhF,GACT,GAAIY,GAAeqE,GAAsB/F,OAAQc,GAuB3D,OApBAwE,GAAUQ,KAAKhF,GAMP6B,EAJJqC,EAASnC,eAAe/B,GAEpBkE,EAASlE,GAAKR,OAASoE,EAAOiB,IAAI7E,GAEvB4D,EAAOtB,IAAItC,GAIXkE,EAASlE,GAAKZ,SAAS8E,EAASlE,IAKpC4D,EAAOtB,IAAItC,GAG1BwE,EAAUU,MAEHJ,EAAWxB,OAAO,SAAS6B,EAAKC,GACnC,MAAOD,GAAIC,IACZvD,IAUPZ,KAAKoE,OAAS,SAASrF,GAEnB,GAAId,GAAS,IAEb,IAAIiF,EAAUU,IAAI7E,GAAM,CAEpB,IAAK,GAAIsF,KAAKpB,GAEV,GAAIA,EAASnC,eAAeuD,IAAMA,IAAMtF,GACG,KAAnCkE,EAASoB,GAAGnG,MAAMqB,QAAQR,GAC1B,KAAM,IAAIY,GAAe2E,GAAyBvF,IAAKA,GAKnEd,GAASgF,EAASlE,GAAKd,aAEhBgF,GAASlE,GAGpB,MAAOd,IAUX+B,KAAKuE,eAAiB,SAAStG,GAI3B,MAFAuB,GAAavB,EAAQ,WAAY+E,GAE1Bf,EAAYnE,GAEfsD,SAAU8B,EAEVjF,OAAQA,EACRC,MAAOM,EAAMC,KAAKC,UAAW,OAWrCsB,KAAKwE,YAAc,SAASvG,GAIxB,MAFAuB,GAAavB,EAAQ,SAAU+E,GAExBb,EAASrE,GAEZsD,SAAU8B,EAEVjF,OAAQA,MAWhB+B,KAAKyE,YAAc,SAASxG,GAIxB,MAFAuB,GAAavB,EAAQ,WAAY+E,GAE1BjB,EAAgBjE,GAEnBsD,SAAU8B,EAEVjF,OAAQA,EACRC,MAAOM,EAAMC,KAAKC,UAAW,GAC7BL,QAASmD,EAAYvD,OAW7B+B,KAAK0E,aAAe,SAASzG,GAIzB,MAFAuB,GAAavB,EAAQ,SAAU+E,GAExBP,EAAU3E,GAEbsD,SAAU8B,EAEVjF,OAAQA,EACRC,MAAO0D,EAAW3D,OA9kB9B,GAAI+F,IACI/D,QAAS,sBACTI,KAAM,0DAGV0C,EAA6B,6BAE7BlC,GACIZ,QAAS,2BACTI,KAAM,kDAGVY,GACIhB,QAAS,uCACTI,KAAM,kEAGV6B,GACIjC,QAAS,kBACTI,KAAM,gCAGVqD,EAAmB,2BAEnBD,EAAiB,0CAEjBT,EAAiB,2CAEjBW,GACI1D,QAAS,iBACTI,KAAM,yCAGViE,GACIrE,QAAS,yBACTI,KAAM,8DAGViD,GACIrD,QAAS,iBACTI,KAAM,uDAGVyD,GACI7D,QAAS,aACTI,KAAM,kCAGVyB,EAAU,MAEVtD,EAAQmG,MAAMxF,UAAUX,KAiiB5B,OAvdAmB,GAAeR,UAAY,GAAIY,OAC/BJ,EAAeR,UAAUnB,KAAO,iBAChC2B,EAAeR,UAAUqE,YAAc7D,EAqdhC+C,EAMW,kBAAXkC,SAAyBA,OAAOC,IAEvCD,OAAO/G,GAEkB,mBAAXiH,SAA0BA,OAAOC,QAE/CD,OAAOC,QAAUlH,IAIjBD,EAAa,OAAIC,KAGtBmC"}