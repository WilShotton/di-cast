!function(a){"use strict";function b(){function a(a){var b=Object.prototype.toString.call(a).split(" ")[1].toLowerCase();return m.call(arguments,1).reduce(function(a,c){return console.log("previous :: "+a),console.log("current :: "+c),-1!==b.indexOf(c.toLowerCase())})}function b(a){var b=m.call(arguments,1);return function(){return a.apply(this,b.concat(m.call(arguments,0)))}}function c(b,c,d){if(!a(b,c))throw new TypeError(d)}function d(){function d(a){if(null==a.resolver)throw new Error(g);return a.resolver(a)}function n(a){if(c(a,"string",f),A.hasMappingFor(a))throw new Error(h)}function o(a,b){b.forEach(function(b){if(null==a[b.name])throw new Error(k);if(b.hasOwnProperty("arity")&&a[b.name].length!==b.arity)throw new Error(l)}),b=[]}function p(b){var c=new b.Builder(m.call(arguments,1));if(o(c,b.api),null===b.props){b.props=[];for(var d in c)0===d.indexOf("i_")&&(b.props[b.props.length]=d)}return b.props.forEach(function(a){null==c[a]&&(c[a]=b.injector.getMappingFor(a.replace("i_","")))}),a(c.postConstruct,"Function")&&c.postConstruct(),c}function q(a){function b(){var b=a.target.apply(a.target,a.args.map(function(b){return a.injector.getMappingFor(b)}));a.Builder=function(a){return b.apply(this,a)},a.Builder.prototype=b.prototype,a.instance={make:function(){return p.apply(this,[a].concat(m.call(arguments,0)))}}}return null==a.instance&&b(),a.instance}function r(a){return null==a.Builder&&(a.Builder=function(){return a.target.apply(this,a.args.map(function(b){return a.injector.getMappingFor(b)}))},a.Builder.prototype=a.target.prototype),a.isSingleton&&null===a.instance&&(a.instance=p(a)),a.instance||p(a)}function s(a){return a.api.length>0&&o(a.target,a.api),a.props=[],a.target}function t(a,b,d,f){if(null!==d.resolver)throw new Error(h);return null!==b&&c(f,b,e),d.target=f,d.resolver=a,d}function u(a){return a.isSingleton=!0,a}function v(b){var c=m.call(arguments,1);return c.length>0&&c[0]&&(b.args=a(c[0],"Array")?c[0]:c),b}function w(a,b){return a.api=b,a}function x(a,b,c){var e=m.call(arguments,x.length);return d(v(t(a,b,z(),c),e))}function y(a){function c(a,c){return function(){return y(b(a,c).apply(null,arguments))}}return{injector:function(){return a.injector},toFactory:c(b(t,q,"Function"),a),toType:c(b(t,r,"Function"),a),toValue:c(b(t,s,null),a),asSingleton:c(u,a),using:c(v,a),as:c(w,a)}}function z(){return{injector:A,target:null,isSingleton:!1,resolver:null,args:[],props:null,Builder:null,instance:null,api:[]}}var A=this,B={};this.map=function(a){return n(a),B[a]=z(),y(B[a])},this.hasMappingFor=function(a){return c(a,"String",f),B.hasOwnProperty(a)},this.getMappingFor=function(a){if(c(a,"String",f),!A.hasMappingFor(a))throw new Error(i);return d(B[a])},this.unMap=function(a){function b(a,b){return-1!==a.indexOf(b)}var c=null;return A.hasMappingFor(a)&&(Object.keys(B).forEach(function(c){var e=B[c];if(null===e.props&&d(e).hasOwnProperty("make")&&e.instance.make(),b(e.args,a)||b(e.props,"i_"+a))throw new Error(j)}),c=B[a].target,delete B[a]),c},this.resolveFactory=b(x,q,"Function"),this.resolveType=b(x,r,"Function")}var e="[#001] The target must be an Object or Function",f="[#002] The key must be a String",g="[#003] No resolver found",h="[#004] A mapping already exists",i="[#005] No mapping found",j="[#006] The mapping has dependants",k="[#007] The mapping is missing a required member",l="[#008] The mapping has an interface method with an incorrect arity",m=Array.prototype.slice;return d}var c=[];"function"==typeof define&&define.amd?define(c,b):"undefined"!=typeof module&&module.exports?module.exports=b.apply(b,c.map(function(a){return require(a)})):a.Injector=b.apply(b,c.map(function(b){return a[b]}))}(this);